S' -> S
S             -> PROGRAM
PROGRAM       -> TOPDECLLIST
TOPDECLLIST   -> TOPDECLLIST TOPDECL
TOPDECLLIST   -> TOPDECL
TOPDECL       -> FUNCDECL
TOPDECL       -> TYPEDECL
TOPDECL       -> STMT
FUNCDECL      -> func id lparen PARAMLIST rparen FUNCRETURN BLOCK
PARAMLIST     -> PARAMLIST comma PARAM
PARAMLIST    -> PARAM
PARAMLIST    -> ε
PARAM        -> id
PARAM        -> id assign EXPR
FUNCRETURN   -> arrow TYPE
FUNCRETURN   -> ε
TYPEDECL     -> type id TYPEPARAMSOPT assign TYPEDEF semi
TYPEPARAMSOPT-> lt_angle TYPEPARAMLIST gt_angle
TYPEPARAMSOPT-> ε
TYPEPARAMLIST-> TYPEPARAMLIST comma id
TYPEPARAMLIST-> id
TYPEDEF      -> STRUCTDEF
STRUCTDEF    -> lbrace FIELDLIST rbrace
FIELDLIST    -> FIELDLIST FIELD
FIELDLIST    -> ε
FIELD        -> id colon TYPE semi
STMT         -> BLOCK
STMT         -> IFSTMT
STMT         -> WHILESTMT
STMT         -> FORSTMT
STMT         -> SWITCHSTMT
STMT         -> TRYSTMT
STMT         -> DECLSTMT
STMT         -> EXPRSTMT
STMT         -> return EXPROPT semi
STMT         -> break semi
STMT         -> continue semi
EXPROPT      -> EXPR
EXPROPT      -> ε
BLOCK        -> lbrace STMTLIST rbrace
STMTLIST     -> STMTLIST STMT
STMTLIST     -> ε
DECLSTMT     -> (var | let | const) DECLLIST semi
DECLLIST     -> DECLLIST comma DECL
DECLLIST     -> DECL
DECL         -> IDOPT assign EXPROPT
IDOPT        -> id
IDOPT        -> id colon TYPE
IDOPT        -> ε
IFSTMT       -> if lparen EXPR rparen STMT ELSEOPT
ELSEOPT      -> else STMT
ELSEOPT      -> ε
WHILESTMT    -> while lparen EXPR rparen STMT
FORSTMT      -> for lparen FORINIT semi EXPROPT semi FORSTEP rparen MT
FORSTEP      -> EXPRLISTOPT | ε
EXPRLISTOPT  -> EXRLIST
EXRLIST      -> EXRLIST comma EXPR
EXRLIST      -> EXPR
SWITCHSTMT   -> switch lparen EXPR rparen lbrace CASELIST rbrace
CASELIST     -> CASELIST CASE
CASELIST     -> ε
CASE         -> case EXPR colon STMTLIST
CASE         -> default colon STMTLIST
TRYSTMT      -> try BLOCK CATCHLIST FINALLYOPT
CATCHLIST    -> CATCHLIST CATCH
CATCHLIST    -> CATCH
CATCH        -> catch lparen id rparen BLOCK
FINALLYOPT   -> finally BLOCK
FINALLYOPT   -> ε
EXPR         -> ASSIGNEXPR
ASSIGNEXPR   -> LEFTHAND assign ASSIGNEXPR
ASSIGNEXPR   -> CONDITIONAL
LEFTHAND     -> id
LEFTHAND     -> MEMBEREXPR
LEFTHAND     -> ARRAYACCESS
CONDITIONAL  -> LOGICALOR question EXPR colon CONDITIONAL
CONDITIONAL  -> LOGICALOR
LOGICALOR    -> LOGICALOR or LOGICALAND
LOGICALOR    -> LOGICALAND
LOGICALAND   -> LOGICALAND and EQUALITY
LOGICALAND   -> EQUALITY
EQUALITY     -> EQUALITY (eq | ne) RELATIONAL
EQUALITY     -> RELATIONAL
RELATIONAL   -> RELATIONAL (lt | gt | le | ge) ADDITIVE
RELATIONAL   -> ADDITIVE
ADDITIVE     -> ADDITIVE (plus | minus) MULTIPLICATIVE
ADDITIVE     -> MULTIPLICATIVE
MULTIPLICATIVE -> MULTIPLICATIVE (mul | div | mod) UNARY
MULTIPLICATIVE -> UNARY
UNARY        -> (plus | minus | not) UNARY
UNARY        -> POSTFIX
POSTFIX      -> POSTFIX lbrack EXPR rbrack
POSTFIX      -> POSTFIX dot id
POSTFIX      -> POSTFIX lparen ARGLISTOPT rparen
POSTFIX      -> PRIMARY
ARGLISTOPT   -> ARGLIST
ARGLISTOPT   -> ε
ARGLIST      -> ARGLIST comma ARG
ARGLIST     -> ARG
ARG         -> EXPR
MEMBEREXPR  -> PRIMARY dot id
ARRAYACCESS -> PRIMARY lbrack EXPR rbrack
PRIMARY     -> id
PRIMARY     -> num
PRIMARY     -> str
PRIMARY     -> lparen EXPR rparen
PRIMARY     -> lbrace EXPRLISTOPT rbrace
PRIMARY     -> func lparen PARAMLIST rparen arrow BLOCK
PRIMARY     -> LAMBDAEXPR
LAMBDAEXPR  -> lparen PARAMLIST rparen arrow_func EXPR
TYPE        -> id TYPESUFFIXOPT
TYPESUFFIXOPT -> lbrack rbrack TYPESUFFIXOPT
TYPESUFFIXOPT -> ε
EXPRSTMT    -> EXPR semi
EXPR        -> ASSIGNEXPR